{% extends 'members_app/inc/master.html' %}
{% load static %}
{% load data_handler_tags %}

{% block title %}
{{title}}
{% endblock title %}

{% block customcss %}

{% endblock customcss %}

{% block pagename %}

{% endblock pagename %}


{% block content %}

<!-- Start Messages -->
{% include 'predict_me/inc/messages.html' %}
<!-- End Messages -->

<!-- begin:: Content -->
<div class="d-flex flex-row mx-4">
 <!--begin::View-->
 <div class="flex-row-fluid ml-lg-8" id="kt_inbox_view">
    <!--begin::Card-->
    <div class="card card-custom card-stretch">
        <!--begin::Header-->
        <div class="card-header align-items-center flex-wrap justify-content-between py-5 h-auto">
            <!--begin::Left-->
            <div class="d-flex align-items-center my-2">
                <button type="button" onclick="history.back();" class="btn btn-clean btn-icon btn-sm mr-6" data-inbox="back">
                    <i class="flaticon2-left-arrow-1"></i>
                </button>

                <span class="btn btn-default btn-icon btn-sm mr-2" data-toggle="tooltip" title=""
                    data-original-title="Spam">
                    <span class="svg-icon svg-icon-md">
                        <!--begin::Svg Icon | path:assets/media/svg/icons/Code/Warning-1-circle.svg-->
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <rect x="0" y="0" width="24" height="24"></rect>
                                <circle fill="#000000" opacity="0.3" cx="12" cy="12" r="10"></circle>
                                <rect fill="#000000" x="11" y="7" width="2" height="8" rx="1"></rect>
                                <rect fill="#000000" x="11" y="16" width="2" height="2" rx="1"></rect>
                            </g>
                        </svg>
                        <!--end::Svg Icon-->
                    </span>
                </span>


            </div>
            <!--end::Left-->
        </div>
        <!--end::Header-->
        <!--begin::Body-->
        <div class="card-body p-0">
            <!--begin::Header-->
            <div class="d-flex align-items-center justify-content-between flex-wrap card-spacer-x py-5">
                <!--begin::Title-->
                <div class="d-flex align-items-center mr-2 py-2">
                    <div class="font-weight-bold font-size-h3 mr-3">
                        
                        {% if object.subject %}
                            {{ object.get_subject_display }}
                        {% else %}
                            {{ object.other_subject }}
                        {% endif %}
                            
                        
                    </div>

                </div>
                <!--end::Title-->

            </div>
            <!--end::Header-->
            <!--begin::Messages-->
            <div class="mb-3">
                <div class="cursor-pointer shadow-xs toggle-on" data-inbox="message">
                    <div class="d-flex align-items-center card-spacer-x py-6">
                        <span class="symbol symbol-50 mr-4">

                        </span>
                        <div class="d-flex flex-column flex-grow-1 flex-wrap mr-2">
                            <div class="d-flex">
                                <a href="#"
                                    class="font-size-lg font-weight-bolder text-dark-75 text-hover-primary mr-2">
                                    {{ object.sender.full_name }}
                                </a>
                                
                            </div>
                           
                        </div>
                        <div class="d-flex align-items-center">
                            <div class="font-weight-bold text-muted mr-2">{{ object.send_date }}</div>
                            <div class="d-flex align-items-center" data-inbox="toolbar">

                                <span class="btn btn-clean btn-sm btn-icon mr-2" data-toggle="tooltip"
                                    data-placement="top" title="" data-original-title="Reply">
                                    <i class="flaticon2-reply-1 icon-1x"></i>
                                </span>

                            </div>
                        </div>
                    </div>
                    <div class="card-spacer-x py-3 toggle-off-item">
                        {{ object.message|safe }}
                    </div>
                </div>
                <div class="cursor-pointer shadow-xs toggle-off" data-inbox="message">
                    <div class="d-flex align-items-center card-spacer-x py-6">
                        <span class="symbol symbol-50 mr-4" data-toggle="expand">
                            <span class="symbol-label"
                                style="background-image: url({% static 'assets/media/users/100_11.jpg' %})"></span>
                        </span>
                        <div class="d-flex flex-column flex-grow-1 flex-wrap mr-2">
                            <div class="d-flex" data-toggle="expand">
                                <a href="#"
                                    class="font-size-lg font-weight-bolder text-dark-75 text-hover-primary mr-2">Lina
                                    Nilson</a>
                                <div class="font-weight-bold text-muted">
                                    <span class="label label-success label-dot mr-2"></span>2 Day ago</div>
                            </div>
                            <div class="d-flex flex-column">
                                <div class="toggle-off-item">
                                    <span class="font-weight-bold text-muted cursor-pointer"
                                        data-toggle="dropdown">to me
                                        <i class="flaticon2-down icon-xs ml-1 text-dark-50"></i></span>
                                    <div class="dropdown-menu dropdown-menu-md dropdown-menu-left p-5">
                                        <table>
                                            <tbody>
                                                <tr>
                                                    <td class="text-muted w-75px py-2">From</td>
                                                    <td>Mark Andre</td>
                                                </tr>
                                                <tr>
                                                    <td class="text-muted py-2">Date:</td>
                                                    <td>Jul 30, 2019, 11:27 PM</td>
                                                </tr>
                                                <tr>
                                                    <td class="text-muted py-2">Subject:</td>
                                                    <td>Trip Reminder. Thank you for flying with us!</td>
                                                </tr>
                                                <tr>
                                                    <td class="text-muted py-2">Reply to:</td>
                                                    <td>mark.andre@gmail.com</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="text-muted font-weight-bold toggle-on-item" data-toggle="expand">
                                    Jornalists call this critical, introductory section the "Lede," and when bridge
                                    properly executed....</div>
                            </div>
                        </div>
                        <div class="d-flex align-items-center">
                            <div class="font-weight-bold text-muted mr-2" data-toggle="expand">Jul 20, 2019, 03:20PM
                            </div>
                            <div class="d-flex align-items-center">
                                <span class="btn btn-clean btn-sm btn-icon mr-2" data-toggle="tooltip"
                                    data-placement="top" title="" data-original-title="Star">
                                    <i class="flaticon-star icon-1x text-warning"></i>
                                </span>
                                <span class="btn btn-clean btn-sm btn-icon mr-2" data-toggle="tooltip"
                                    data-placement="top" title="" data-original-title="Mark as important">
                                    <i class="flaticon-add-label-button icon-1x"></i>
                                </span>
                                <span class="btn btn-clean btn-sm btn-icon mr-2" data-toggle="tooltip"
                                    data-placement="top" title="" data-original-title="Reply">
                                    <i class="flaticon2-reply-1 icon-1x"></i>
                                </span>
                                <span class="btn btn-clean btn-sm btn-icon" data-toggle="tooltip"
                                    data-placement="top" title="" data-original-title="Settings">
                                    <i class="flaticon-more icon-1x"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="card-spacer-x py-3 toggle-off-item">
                        <p>Hi Bob,</p>
                        <p>With resrpect, i must disagree with Mr.Zinsser. We all know the most part of important
                            part of any article is the title.Without a compelleing title, your reader won't even get
                            to the first sentence.After the title, however, the first few sentences of your article
                            are certainly the most important part.</p>
                        <p>Jornalists call this critical, introductory section the "Lede," and when bridge properly
                            executed, it's the that carries your reader from an headine try at attention-grabbing to
                            the body of your blog post, if you want to get it right on of these 10 clever ways to
                            omen your next blog posr with a bang</p>
                        <p>Best regards,</p>
                        <p>Jason Muller</p>
                    </div>
                </div>
                <div class="cursor-pointer shadow-xs toggle-off" data-inbox="message">
                    <div class="d-flex align-items-center card-spacer-x py-6">
                        <span class="symbol symbol-50 mr-4" data-toggle="expand">
                            <span class="symbol-label"
                                style="background-image: url({% static 'assets/media/users/100_14.jpg' %})"></span>
                        </span>
                        <div class="d-flex flex-column flex-grow-1 flex-wrap mr-2">
                            <div class="d-flex" data-toggle="expand">
                                <a href="#"
                                    class="font-size-lg font-weight-bolder text-dark-75 text-hover-primary mr-2">Sean
                                    Stone</a>
                                <div class="font-weight-bold text-muted">
                                    <span class="label label-success label-dot mr-2"></span>1 Day ago</div>
                            </div>
                            <div class="d-flex flex-column">
                                <div class="toggle-off-item">
                                    <span class="font-weight-bold text-muted cursor-pointer"
                                        data-toggle="dropdown">to me
                                        <i class="flaticon2-down icon-xs ml-1 text-dark-50"></i></span>
                                    <div class="dropdown-menu dropdown-menu-md dropdown-menu-left p-5">
                                        <table>
                                            <tbody>
                                                <tr>
                                                    <td class="text-muted w-75px py-2">From</td>
                                                    <td>Mark Andre</td>
                                                </tr>
                                                <tr>
                                                    <td class="text-muted py-2">Date:</td>
                                                    <td>Jul 30, 2019, 11:27 PM</td>
                                                </tr>
                                                <tr>
                                                    <td class="text-muted py-2">Subject:</td>
                                                    <td>Trip Reminder. Thank you for flying with us!</td>
                                                </tr>
                                                <tr>
                                                    <td class="text-muted py-2">Reply to:</td>
                                                    <td>mark.andre@gmail.com</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="text-muted font-weight-bold toggle-on-item" data-toggle="expand">With
                                    resrpect, i must disagree with Mr.Zinsser. We all know the most part of
                                    important part....</div>
                            </div>
                        </div>
                        <div class="d-flex align-items-center">
                            <div class="font-weight-bold text-muted mr-2" data-toggle="expand">Jul 15, 2019, 11:19AM
                            </div>
                            <div class="d-flex align-items-center">
                                <span class="btn btn-clean btn-sm btn-icon mr-2" data-toggle="tooltip"
                                    data-placement="top" title="" data-original-title="Star">
                                    <i class="flaticon-star icon-1x"></i>
                                </span>
                                <span class="btn btn-clean btn-sm btn-icon mr-2" data-toggle="tooltip"
                                    data-placement="top" title="" data-original-title="Mark as important">
                                    <i class="flaticon-add-label-button icon-1x"></i>
                                </span>
                                <span class="btn btn-clean btn-sm btn-icon mr-2" data-toggle="tooltip"
                                    data-placement="top" title="" data-original-title="Reply">
                                    <i class="flaticon2-reply-1 icon-1x"></i>
                                </span>
                                <span class="btn btn-clean btn-sm btn-icon" data-toggle="tooltip"
                                    data-placement="top" title="" data-original-title="Settings">
                                    <i class="flaticon-more icon-1x"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="card-spacer-x py-3 toggle-off-item">
                        <p>Hi Bob,</p>
                        <p>With resrpect, i must disagree with Mr.Zinsser. We all know the most part of important
                            part of any article is the title.Without a compelleing title, your reader won't even get
                            to the first sentence.After the title, however, the first few sentences of your article
                            are certainly the most important part.</p>
                        <p>Jornalists call this critical, introductory section the "Lede," and when bridge properly
                            executed, it's the that carries your reader from an headine try at attention-grabbing to
                            the body of your blog post, if you want to get it right on of these 10 clever ways to
                            omen your next blog posr with a bang</p>
                        <p>Best regards,</p>
                        <p>Jason Muller</p>
                    </div>
                </div>
            </div>
            <!--end::Messages-->
            <!--begin::Reply-->
            <div class="card-spacer mb-3" id="kt_inbox_reply">
                <div class="card card-custom shadow-sm">
                    <div class="card-body p-0">
                        <!--begin::Form-->
                        <form id="kt_inbox_reply_form">
                            <!--begin::Body-->
                            <div class="d-block">
                                <!--begin::To-->
                                <div class="d-flex align-items-center border-bottom inbox-to px-8 min-h-50px">
                                    <div class="text-dark-50 w-75px">To:</div>
                                    <div class="d-flex align-items-center flex-grow-1">
                                        <tags class="tagify form-control border-0" tabindex="-1">

                                            <tag title="PredictMe Administrator" contenteditable="false"
                                                spellcheck="true" tabindex="-1"
                                                class="tagify__tag tagify__tag--primary tagify--noAnim" role="tag"
                                                __isvalid="true" pic="{% static 'assets/media/users/100_15.jpg' %}"
                                                initialsstate="danger" initials="Administrator"
                                                email="{{ get_company_settings.email }}" value="Administrator">
                                                <div><span class="tagify__tag-text">PredictMe Administrator</span>
                                                </div>
                                            </tag>
                                        </tags>
                                        <input type="text" class="form-control border-0" name="compose_to"
                                            value="{{ get_company_settings.email }}" readonly />
                                    </div>

                                </div>
                                <!--end::To-->


                                <!--begin::Subject-->
                                <div class="border-bottom">
                                    <input class="form-control border-0 px-8 min-h-45px" name="compose_subject"
                                        placeholder="Subject">
                                </div>
                                <!--end::Subject-->
                                <!--begin::Message-->
                                <div class="ql-toolbar ql-snow px-5 border-top-0 border-left-0 border-right-0"><span
                                        class="ql-formats"><span class="ql-header ql-picker"><span
                                                class="ql-picker-label" tabindex="0" role="button"
                                                aria-expanded="false" aria-controls="ql-picker-options-0"><svg
                                                    viewBox="0 0 18 18">
                                                    <polygon class="ql-stroke" points="7 11 9 13 11 11 7 11">
                                                    </polygon>
                                                    <polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"></polygon>
                                                </svg></span><span class="ql-picker-options" aria-hidden="true"
                                                tabindex="-1" id="ql-picker-options-0"><span tabindex="0"
                                                    role="button" class="ql-picker-item" data-value="1"></span><span
                                                    tabindex="0" role="button" class="ql-picker-item"
                                                    data-value="2"></span><span tabindex="0" role="button"
                                                    class="ql-picker-item" data-value="3"></span><span tabindex="0"
                                                    role="button"
                                                    class="ql-picker-item ql-selected"></span></span></span><select
                                            class="ql-header" style="display: none;">
                                            <option value="1"></option>
                                            <option value="2"></option>
                                            <option value="3"></option>
                                            <option selected="selected"></option>
                                        </select></span><span class="ql-formats"><button type="button"
                                            class="ql-bold"><svg viewBox="0 0 18 18">
                                                <path class="ql-stroke"
                                                    d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z">
                                                </path>
                                                <path class="ql-stroke"
                                                    d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z">
                                                </path>
                                            </svg></button><button type="button" class="ql-italic"><svg
                                                viewBox="0 0 18 18">
                                                <line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"></line>
                                                <line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"></line>
                                                <line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"></line>
                                            </svg></button><button type="button" class="ql-underline"><svg
                                                viewBox="0 0 18 18">
                                                <path class="ql-stroke"
                                                    d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3">
                                                </path>
                                                <rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3"
                                                    y="15"></rect>
                                            </svg></button><button type="button" class="ql-link"><svg
                                                viewBox="0 0 18 18">
                                                <line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"></line>
                                                <path class="ql-even ql-stroke"
                                                    d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z">
                                                </path>
                                                <path class="ql-even ql-stroke"
                                                    d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z">
                                                </path>
                                            </svg></button></span><span class="ql-formats"><button type="button"
                                            class="ql-list" value="ordered"><svg viewBox="0 0 18 18">
                                                <line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"></line>
                                                <line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"></line>
                                                <line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"></line>
                                                <line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5">
                                                </line>
                                                <path class="ql-fill"
                                                    d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z">
                                                </path>
                                                <path class="ql-stroke ql-thin"
                                                    d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156">
                                                </path>
                                                <path class="ql-stroke ql-thin"
                                                    d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109">
                                                </path>
                                            </svg></button><button type="button" class="ql-list" value="bullet"><svg
                                                viewBox="0 0 18 18">
                                                <line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"></line>
                                                <line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"></line>
                                                <line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"></line>
                                                <line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"></line>
                                                <line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"></line>
                                                <line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"></line>
                                            </svg></button></span><span class="ql-formats"><button type="button"
                                            class="ql-clean"><svg class="" viewBox="0 0 18 18">
                                                <line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"></line>
                                                <line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"></line>
                                                <line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"></line>
                                                <line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"></line>
                                                <rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2"
                                                    y="14"></rect>
                                            </svg></button></span></div>
                                <div id="kt_inbox_reply_editor" class="border-0 ql-container ql-snow"
                                    style="height: 250px">
                                    <div class="ql-editor ql-blank px-8" data-gramm="false" contenteditable="true"
                                        data-placeholder="Type message...">
                                        <p><br></p>
                                    </div>
                                    <div class="ql-clipboard" contenteditable="true" tabindex="-1"></div>
                                    <div class="ql-tooltip ql-hidden"><a class="ql-preview"
                                            rel="noopener noreferrer" target="_blank" href="about:blank"></a><input
                                            type="text" data-formula="e=mc^2" data-link="https://quilljs.com"
                                            data-video="Embed URL"><a class="ql-action"></a><a
                                            class="ql-remove"></a></div>
                                </div>
                                <!--end::Message-->
                                <!--begin::Attachments-->
                                <div class="dropzone dropzone-multi px-8 py-4" id="kt_inbox_reply_attachments">
                                    <div class="dropzone-items">

                                    </div>
                                    <div class="dz-default dz-message"><button class="dz-button" type="button">Drop
                                            files here to upload</button></div>
                                </div>
                                <!--end::Attachments-->
                            </div>
                            <!--end::Body-->
                            <!--begin::Footer-->
                            <div
                                class="d-flex align-items-center justify-content-between py-5 pl-8 pr-5 border-top">
                                <!--begin::Actions-->
                                <div class="d-flex align-items-center mr-3">
                                    <!--begin::Send-->
                                    <div class="btn-group mr-4">
                                        <button type="button"
                                            class="btn btn-primary font-weight-bold px-6 member-send-msg-btn">Send
                                            Reply</button>

                                    </div>
                                    <!--end::Send-->
                                    <!--begin::Other-->

                                    <!-- Start Msg Attachments block -->
                                    <div id='msg_attachment_block'>
                                        <label for='msg_attachment'>
                                            <span class="btn btn-icon btn-sm btn-clean mr-2 mt-3"
                                                data-toggle="tooltip" data-title='Upload attachment'>
                                                <i class="flaticon2-clip-symbol"></i>
                                            </span>
                                        </label>
                                        <input type='file' style="display: none;" id='msg_attachment'
                                            name="msg_attachment" />
                                    </div>
                                    <!-- End Msg Attachments block -->

                                    <!--end::Other-->
                                </div>
                                <!--end::Actions-->
                            </div>
                            <!--end::Footer-->
                        </form>
                        <!--end::Form-->
                    </div>
                </div>
            </div>
            <!--end::Reply-->
        </div>
        <!--end::Body-->
    </div>
    <!--end::Card-->
</div>
<!--end::View-->
</div>
<!-- end:: Content -->


{% endblock content%}

{% block customjs %}
<script type="text/javascript">
    var djangoStaticUrl = '{% get_static_prefix %}';

</script>

<script src="{% static 'assets/js/custom/djangocookie.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/js/pages/widgets.js' %}"></script>
<!--begin::Page Scripts(used by this page)-->
<script src="{% static 'assets/js/pages/crud/forms/widgets/bootstrap-datepicker.js' %}"></script>
<script src="{% static 'assets/js/custom/messages_app/inbox.js' %}"></script>
<script src="{% static 'assets/js/custom/messages_app/members_inbox.js' %}"></script>
<!--end::Page Scripts-->
{% endblock customjs %}
