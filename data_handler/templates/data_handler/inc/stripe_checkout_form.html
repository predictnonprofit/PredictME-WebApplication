<div id="data-handler-stripe-spinner">
    <div class="d-flex flex-column align-items-center justify-content-center">
        <div class="row">
            <div class="spinner-border" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
        <div class="row">
            <strong class="h3">Please wait...</strong>
        </div>
    </div>
</div>

<!--begin::Form-->

<div class="form-3-box pt-0">
    <form class="kt-form" action="{% url 'membership-charge-extra-records' %}" method="POST"
        id="data-handler-payment-form">
        {% csrf_token %}
        <div class="kt-portlet__body">
            <fieldset class="form-group p-3">
                <legend class="w-auto px-2 text-secondary">Option 2</legend>
                <div class="form-group row">

                    <div class="col-md-6">
                        <label>Purchased records :</label>
                        <input type="text" class="form-control data-handler-stripe-charge-form" placeholder="0"
                            id="extraRowsPurchased" onkeyup="calculateExtraRows();" name="extraRowsPurchased"
                            readonly required />
                        <span class="form-text text-muted font-weight-bold"><b>${{get_all_member_info.MEMBERSHIP.additional_fee_per_extra_record}}
                                cents per additional record</b></span>
                    </div>

                    <div class="col-md-6">
                        <label>Total amount due :</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="la la-dollar"></i>
                                </span>
                            </div>
                            <input type="text" disabled="disabled" readonly
                                class="data-handler-stripe-charge-form form-control" name="total_amount_due"
                                placeholder="0" aria-describedby="basic-addon1" id="totalAmountDue">
                        </div>
                        <span class="form-text text-muted font-weight-bold"></span>
                    </div>

                </div>
                <!-- Start Stripe Input -->
                <div class="form-group">
                    <div class="row">
                        <div class="col-3">
                            <label for="card-element">
                                Credit or debit card
                            </label>
                        </div>
                        <div class="col">
                            <label class="checkbox checkbox-rounded">
                                <input type="checkbox" name="old-stripe-card" id='oldStripeCardCheckbox'
                                    class="data-handler-stripe-charge-form" />
                                <span></span> &nbsp; <b class="font-weight-normal position-relative" style="top: 1px;"
                                    data-toggle='tooltip'
                                    title="Use your old stripe card that saved while registration process">Use default
                                    stripe card <small class="text-muted position-relative"
                                        style="top: 1px;">************{{ get_stripe_details.last4 }}</small></b>
                            </label>
                        </div>
                    </div>


                    <div class="input-group" id='card-element-wrapper'>
                        <div id="card-element">
                            <!-- A Stripe Element will be inserted here. -->
                        </div>
                        <span class="d-inline-block my-3 text-muted" id='last4Span' style="font-weight: 600;">

                        </span>
                    </div>

                    <!-- Used to display form errors. -->
                    <div id="card-errors" role="alert"></div>
                </div>
                <!-- End Stripe Input -->
                <div class='form-group'>
                    <button
                        class="btn-block data-handler-stripe-charge-form btn btn-success mt-2 data-handler-stripe-charge-form"
                        type="submit" id='runStripeChargeBtn'>
                        <i class="icon-md la la-dollar-sign"></i>
                        Pay
                    </button>
                </div>
            </fieldset>
            

        </div>
        <div class="kt-portlet__foot kt-portlet__foot--fit">
            <div class="kt-form__actions kt-form__actions--right">
                <div class="row">
                    <div class="col kt-align-left">


                    </div>
                    <div class="col text-right">
                        <span class="form-text text-muted mt-2"><b>* Will send an invoice of transaction to your
                                email</b></span>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<!--end::Form-->